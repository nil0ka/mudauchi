# mudauchi

これは！ってなりそうな commit hash が出てくるまでグルグル回してみる repo

## 概要

面白いパターンを持つコミットハッシュを見つけるまで、自動的にコミットを繰り返すプロジェクトです。

**面白いパターンの例**：
- 同じ文字が5文字以上連続（例：`77777`, `aaaaa`）
- 連番（例：`123`, `456`, `abc`, `def`）
- 逆連番（例：`321`, `fed`, `cba`）
- 単語っぽいパターン（例：`dead`, `beef`, `cafe`）

## 使い方

```bash
# スクリプトを実行（上限10,000回）
./find_interesting_hash.sh
```

5文字以上の連続パターンが見つかると自動的に終了します。

## なぜGitコミットハッシュなのか？

単純に乱数を生成するのではなく、あえてGitコミットハッシュ（SHA-1）を使う理由：

### 1. 暗号学的ハッシュ関数の実証的検証

SHA-1ハッシュが理論的に期待される「ランダム性」を実際に持つかを検証できます。

- 単なる疑似乱数生成器（PRNG）では、実装依存のバイアスがある可能性がある
- 実際のコンテンツから生成されるSHA-1ハッシュで、パターン出現頻度が理論値と一致するか実証
- セキュリティ研究の観点：ハッシュ関数の品質を実測データで評価

### 2. 証明可能性と監査可能性

結果の信頼性を第三者が検証可能です。

| 方法 | 検証可能性 |
|------|-----------|
| 単なる乱数生成 | 「100回で見つけた」→ 本当？コードを改ざんしてないか不明 |
| Gitコミット履歴 | `git log` で誰でも確認可能、タイムスタンプ付き、改ざん困難 |

- ブロックチェーンに似た「proof of work」的な側面
- 科学的実験としての再現性・検証可能性を担保

### 3. 決定論的プロセスと確率論的結果の対比

決定論的なプロセスから確率論的な結果を得る面白さがあります。

- **決定論的**: 同じコンテンツ → 常に同じハッシュ
- **カオス的**: どのコンテンツでどんなハッシュが出るかは予測不可能
- この対比が哲学的・数学的に興味深い

### 4. 実用的なベンチマーク

理論値と実装のギャップを測定できます。

- 「理論上1,821回」vs「実際のgitコマンド実行での試行回数は？」
- システムのオーバーヘッド、I/O性能なども含めた実測
- Git自体のハッシュ計算実装の性能検証

### 5. 成果物としての価値

単なる数値ではなく、意味を持つアーティファクトとして残ります。

```
乱数生成: 面白い値を見つけた → で？
Gitコミット: 面白いハッシュを持つリポジトリ → GitHub上で永続化、共有可能
```

- デジタルアート・概念芸術的な側面
- 「無意味なコミットの集積」から「意味のあるパターン」を見出す哲学性
- 他の開発者と共有し、議論のきっかけになる

### 6. 実世界での衝突可能性の評価

実際のソフトウェア開発における「偶然の一致」のリスクを評価できます。

- 「もし本番リポジトリで特定パターンのハッシュが出たら？」
- セキュリティ上の影響評価（例：`deadbeef` が出ると検知システムが誤反応する可能性は？）
- レアケースの発生頻度についての実測データの蓄積

## 数学的背景

### 確率の計算

コミットハッシュ（SHA-1）は40文字の16進数文字列です。各文字は独立に `{0,1,2,...,9,a,b,c,d,e,f}` から選ばれます。

#### 1. 基本確率

特定の文字（例：`7`）が特定位置で5連続する確率：

$$P(\text{特定位置で'77777'}) = \left(\frac{1}{16}\right)^5 = \frac{1}{1048576}$$

#### 2. 和の法則（16倍の効果）

**何らかの文字**が特定位置で5連続する確率：

$$P(\text{何らかの5連続}) = \sum_{c \in \{0\text{-}9,a\text{-}f\}} P(ccccc) = 16 \times \left(\frac{1}{16}\right)^5 = \frac{1}{65536}$$

#### 3. 複数試行（36倍の効果）

40文字のハッシュには、5文字パターンをチェックできる位置が **36箇所** あります（0文字目〜35文字目）。

少なくとも1箇所で5文字連続が成立する確率（補事象を利用）：

$$P(\text{少なくとも1箇所で成立}) = 1 - \left(\frac{65535}{65536}\right)^{36} \approx 1 - e^{-36/65536} \approx 0.000549 \approx \frac{1}{1821}$$

#### 4. 期待値（幾何分布）

成功確率 $p = 1/1821$ の幾何分布に従う場合、初めて成功するまでの試行回数の期待値：

$$E[X] = \frac{1}{p} \approx 1821 \text{ 回}$$

### 実測値との比較（4文字連続時代のデータ）

> **注**: 以下は4文字連続を目標としていた時期のデータです（理論値：約111回）。現在は5文字連続を目標としています（理論値：約1,821回）。

| 実行 | 試行回数 | パターン | 理論値との比 |
|------|----------|----------|--------------|
| 1回目 | 63回 | `7777` | 0.57x |
| 2回目 | 123回 | `bbbb` | 1.10x |
| 3回目 | 113回 | `2222` | 1.02x |
| **平均** | **約100回** | - | **0.90x** |

実測値は理論値の妥当な範囲内です。幾何分布は裾が重いため、ばらつきは自然な現象です。

### 一般化

$n$ 進数、長さ $L$ のハッシュ、$k$ 文字連続を求める場合：

$$E[\text{試行回数}] \approx \frac{n^{k-1}}{L-k+1}$$

本プロジェクト（$n=16, L=40, k=5$）：

$$E[\text{試行回数}] \approx \frac{16^4}{36} = \frac{65536}{36} \approx 1820.4 \text{ 回}$$

### 類似する数学的問題

この問題は以下の古典的な確率論の問題と構造的に類似しています：

- **誕生日のパラドックス**: 単一の比較では確率が低いが、複数の比較機会があると確率が跳ね上がる
- **クーポンコレクター問題の逆**: 特定のパターンが出るまでサンプリングを続ける

## 成果

このリポジトリには、面白いパターンを持つコミットハッシュが複数含まれています。コミット履歴をご覧ください！
