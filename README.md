# mudauchi

これは！ってなりそうな commit hash が出てくるまでグルグル回してみる repo

## 概要

面白いパターンを持つコミットハッシュを見つけるまで、自動的にコミットを繰り返すプロジェクトです。

**面白いパターンの例**：
- 同じ文字が4文字以上連続（例：`7777`, `aaaa`）
- 連番（例：`123`, `456`, `abc`, `def`）
- 逆連番（例：`321`, `fed`, `cba`）
- 単語っぽいパターン（例：`dead`, `beef`, `cafe`）

## 使い方

```bash
# スクリプトを実行（上限10,000回）
./find_interesting_hash.sh
```

4文字以上の連続パターンが見つかると自動的に終了します。

## 数学的背景

### 確率の計算

コミットハッシュ（SHA-1）は40文字の16進数文字列です。各文字は独立に `{0,1,2,...,9,a,b,c,d,e,f}` から選ばれます。

#### 1. 基本確率

特定の文字（例：`7`）が特定位置で4連続する確率：

$$P(\text{特定位置で'7777'}) = \left(\frac{1}{16}\right)^4 = \frac{1}{65536}$$

#### 2. 和の法則（16倍の効果）

**何らかの文字**が特定位置で4連続する確率：

$$P(\text{何らかの4連続}) = \sum_{c \in \{0\text{-}9,a\text{-}f\}} P(cccc) = 16 \times \left(\frac{1}{16}\right)^4 = \frac{1}{4096}$$

#### 3. 複数試行（37倍の効果）

40文字のハッシュには、4文字パターンをチェックできる位置が **37箇所** あります（0文字目〜36文字目）。

少なくとも1箇所で4文字連続が成立する確率（補事象を利用）：

$$P(\text{少なくとも1箇所で成立}) = 1 - \left(\frac{4095}{4096}\right)^{37} \approx 1 - e^{-37/4096} \approx 0.00897 \approx \frac{1}{111.5}$$

#### 4. 期待値（幾何分布）

成功確率 $p = 1/111.5$ の幾何分布に従う場合、初めて成功するまでの試行回数の期待値：

$$E[X] = \frac{1}{p} \approx 111.5 \text{ 回}$$

### 実測値との比較

| 実行 | 試行回数 | パターン | 理論値との比 |
|------|----------|----------|--------------|
| 1回目 | 63回 | `7777` | 0.57x |
| 2回目 | 123回 | `bbbb` | 1.10x |
| 2回目 | 205回 | `aaaa` | 1.84x |
| **平均** | **約130回** | - | **1.17x** |

実測値は理論値の妥当な範囲内です。幾何分布は裾が重いため、ばらつきは自然な現象です。

### 一般化

$n$ 進数、長さ $L$ のハッシュ、$k$ 文字連続を求める場合：

$$E[\text{試行回数}] \approx \frac{n^{k-1}}{L-k+1}$$

本プロジェクト（$n=16, L=40, k=4$）：

$$E[\text{試行回数}] \approx \frac{16^3}{37} = \frac{4096}{37} \approx 110.7 \text{ 回}$$

### 類似する数学的問題

この問題は以下の古典的な確率論の問題と構造的に類似しています：

- **誕生日のパラドックス**: 単一の比較では確率が低いが、複数の比較機会があると確率が跳ね上がる
- **クーポンコレクター問題の逆**: 特定のパターンが出るまでサンプリングを続ける

## 成果

このリポジトリには、面白いパターンを持つコミットハッシュが複数含まれています。コミット履歴をご覧ください！
